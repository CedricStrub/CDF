{% extends 'base.html.twig' %}

{% block title %}Detail Formation{% endblock %}

{% block body %}

<link rel="stylesheet" href="{{ asset('css/custom_autocomplete.css') }}">

<h1>{{ formation.intitule }}</h1><br>
{{ data.duree }} <br>
{{ data.dateDebut }} <br>
{{ data.dateFin }} <br>
{{ data.placesV }} <br>
{{ data.placesT }} <br>
{{ data.progression }} <br>

<br>
<h2>Sessions</h2>
<br>

<table>
    <thead>
        <td>Intitulé</td>
        <td>Places</td>
        <td>Durée </td>
        <td>Action</td>
    </thead>
    <tbody>
        {% for session in sessions %}
        <tr>
            <td>{{ session.intitule }}</td>
            <td>{{ session.place }}</td>
            <td>{{ session.duree }} Jours</td>
            <td><a href="{{ path('remove_session', {'session': session.id,'route': 'show_formation'}) }}">Déprogrammer</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{{ form_start(formSe.session) }}
<div class="search">
    {{ form_row(formSe.session, {'label':false})}}
</div>
{{ form_end(formSe.session) }}

<br>
<h2>Stagiaires</h2>
<br>

<table>
    <thead>
        <td>Stagiaire</td>
        <td>Action</td>
    </thead>
    <tbody>
        {% for stagiaire in stagiaires[0] %}
        <tr>
            <td>{{ stagiaire.nom }}{{ stagiaire.prenom }}</td>
            <td><a href="{{ path('remove_stagiaire', {'stagiaire': stagiaire.id,'session': sessions[0].id,'route': 'show_formation'}) }}">Désinscrire</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{{ form_start(formStagiaireAC) }}
<div class="search">
    {{ form_row(formStagiaireAC, {'label':false})}}
</div>
{{ form_end(formStagiaireAC) }}

{% endblock %}